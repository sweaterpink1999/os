# ============================================
#  File: xray-limits.conf
#  Tujuan: Meningkatkan stabilitas Xray, Nginx, SSH, Dropbear
#  Optimized for: 100 - 500 active users
#  Lokasi aktif: /etc/security/limits.d/xray-limits.conf
# ============================================

# ======================================================
# General limits untuk semua user & service
# ======================================================
* soft nofile 500000
* hard nofile 500000
* soft nproc 500000
* hard nproc 500000

# ======================================================
# Khusus untuk root (systemd, nginx, xray, dropbear, ssh)
# ======================================================
root soft nofile 500000
root hard nofile 500000
root soft nproc 500000
root hard nproc 500000

# ======================================================
# Catatan:
# - nofile = jumlah maksimal file/koneksi/socket yang bisa dibuka
# - nproc  = jumlah maksimal proses yang bisa dijalankan
# - Disarankan untuk tidak melebihi 500000 di VPS kecil (1â€“2GB RAM)
# - Aman digunakan untuk server Xray multi-user (WS + gRPC + SSH)
# ======================================================
